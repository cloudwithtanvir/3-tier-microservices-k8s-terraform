FROM node:16

# Accept build arguments
ARG REACT_APP_USER_SERVICE_URL
ARG REACT_APP_TRANSACTION_SERVICE_URL
ARG REACT_APP_NOTIFICATION_SERVICE_URL

WORKDIR /app
COPY . /app

# # Set environment variables from build arguments
# ENV REACT_APP_USER_SERVICE_URL=$REACT_APP_USER_SERVICE_URL
# ENV REACT_APP_TRANSACTION_SERVICE_URL=$REACT_APP_TRANSACTION_SERVICE_URL
# ENV REACT_APP_NOTIFICATION_SERVICE_URL=$REACT_APP_NOTIFICATION_SERVICE_URL

RUN npm install
CMD ["npm", "start"]
